#### 支持各种统计规则的性能计数器项目

设计开发一个小的框架，能够获取接口调用的各种统计信息，比如响应时间的最大值（max）、最小值（min）、平均值（avg）、百分位值（percentile）、接口调用次数（count）、频率（tps）等，并且支持将统计结果以各种显示格式（比如：JSON格式、网页格式、自定义显示格式等）输出到各种终端（Console命令行、HTTP网页、Email、日志文件、自定义输出终端等），以方便查看。


#### 需求分析


1. 功能性需求分析

* 接口统计信息：接口的响应时间、接口调用次数。

* 统计信息的类型：max、min、avg、percentile、count、tps等。

* 统计信息显示格式：JSON、HTML、自定义显示格式。

* 统计信息显示终端：Console、Email、HTTP网页、日志、自定义显示终端。

* 统计触发方式：主动、被动。

* 统计时间区间：

* 统计时间间隔：

2. 非功能性需求分析


a. 易用性

框架是否易集成、易插拔、跟业务代码是否松耦合、提供的接口是否够灵活；
文档写得好坏；

b. 性能

对于需要集成到业务系统的框架来说，我们不希望框架本身的代码执行效率，对业务系统有太多性能上的影响。

低延时

框架本身对内存的消耗不能太大


c. 扩展性



d. 容错性

不能因为框架本身的异常导致接口请求出错

e. 通用性


#### 框架设计

1. TDD(测试驱动开发)


2. Prototype(最小原型)



3. 聚焦简单场景

4. 线框图

5. 系统设计图

在原型系统的代码实现中，我们可以把所有代码都塞到一个类中，暂时不用考虑任何代码质量、线程安全、性能、扩展性等问题，怎么简单怎么来。


把整个框架分为四个模块：

* 数据采集

* 存储

* 聚合统计

* 显示

