#### 工厂模式

工厂模式分为三种更加细分的类型：

1. 简单工厂

2. 工厂方法

3. 抽象工厂




##### 为了让代码逻辑更加清晰，可读性更好，我们要善于将功能独立的代码块封装成函数


##### 如果 if 分支并不是很多，代码中有 if 分支也是完全可以接收的。应用多态或设计模式来替代 if 分支判断逻辑，也并不是没有任何缺点的，它虽然提供了代码的扩展性，更加符合开闭原则，但也增加了类的个数，牺牲了代码的可读性。


##### 当创建对象是一个 “大工程” 的时候，我们一般会选择使用工厂模式，来封装对象复杂的创建过程，将对象的创建和使用分离，让代码更加清晰。

1. 第一种情况：类似规则配置解析的例子，代码中存在 if-else 分支判断，动态地根据不同的类型创建不同的对象。针对这种情况，我们就考虑使用工厂模式，将这一大坨 if-else 创建对象的代码抽离出来，放到工厂类中。

2. 另一种情况：尽管我们不需要根据不同的类型创建不同的对象，但是，单个对象本身的创建过程比较复杂，比如前面提到的要组合其他类对象，做各种初始化操作。在这种情况下，我们也可以考虑使用工厂模式，将对象的创建过程封装到工厂类中。


#### 判断要不要使用工厂模式的最本质的参考标准。

* 封装变化：创建逻辑有可能变化，封装成工厂类之后，创建逻辑的变更对调用者透明。

* 代码复用：创建代码抽离到独立的工厂类之后可以复用。

* 隔离复杂性：封装复杂的创建逻辑，调用者无需了解如何创建对象。

* 控制复杂度：将创建代码抽离出来，让原本的函数或类职责更单一，代码更简洁。

#### 依赖注入

依赖注入框架，或者叫依赖注入容器 （Dependency Injection Container），简称 DI 容器。
